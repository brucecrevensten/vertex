# Serve static content directly
<VirtualHost *:80>
  Servername api.daac.asf.alaska.edu
  ServerAlias api
  DocumentRoot  /usr/asf/eng/ursa2/root
  Alias /static /usr/asf/eng/ursa2/root/static
  CustomLog logs/api.daac.asf.alaska.edu/access_log combined
  ErrorLog logs/api.daac.asf.alaska.edu/error_log

  # Set timeouts for the application both during idle & working states
  FcgidBusyTimeout 1800 # max execution time = 30 minutes (default = 5 minutes)
  FcgidIOTimeout 1800 # max IO time = 30 minutes (default = 40 seconds)
  FcgidConnectTimeout 10 # max time to connect to fastCGI proces = 10 seconds (default = 3 seconds)
  FcgidMaxRequestInMem 4294967296 # max bytes to store from incoming request in RAM before writing tempfile = 4MB (default = 64k)
  FcgidMaxRequestLen 3435978386 # max bytes for incoming request = 32MB (default = 128k)

  <Location /static>
      SetHandler default-handler
  </Location>

  Alias / /usr/asf/eng/ursa2/bin/ursa2_fastcgi.pl/

  <Location />
    Options ExecCGI
    Order allow,deny
    Allow from all
    AddHandler fcgid-script .pl
  </Location>
  # Do not allow authentication over non-ssl connections!
  <Location /services/authentication>
    Order deny,allow
    Deny from all
  </Location>
</VirtualHost>
